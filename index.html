<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Las abstracciones equivocadas</title>
  <link href="https://unpkg.com/prismjs@1.29.0/themes/prism-tomorrow.css" rel="stylesheet" />

  <style>
    @font-face {
      font-family: 'ASM-Regular';
      src: url('fonts/31A5DC_3_0.eot') format('opentype'),
           url('fonts/31A5DC_3_0.woff') format('woff'),
           url('fonts/31A5DC_3_0.ttf') format('truetype');
    }

    * {
      box-sizing: border-box;
      margin: 0;
    }

    body {
      margin: 0;
      padding: 0;
      font-size: 4vh;
      line-height: 5vh;
      font-family: "ASM-Regular", sans-serif;
    }

    a {
      color: #3333ff;
      text-decoration: none;
    }

    a:hover {
      color: #ff33cc;
    }

    small {
      font-size: 60%;
    }

    .container {
      scroll-snap-type: y mandatory;
      height: 100vh;
      width: 100vw;
      overflow-x: hidden;
    }

    section {
      scroll-snap-align: start;
      height: 100vh;
      width: 100vw;
      padding: 10vh 5vw;
      display: flex;
      flex-flow: column;
      justify-content: start;
      align-items: start;
      text-align: center;
    }

    section.center,
    section.cover--first,
    section.disclaimer,
    section.meme,
    section.blue,
    section.black {
      justify-content: center;
      align-items: center;
    }

    section.disclaimer {
      color: #fff;
      background-color: rgb(157, 41, 41);
    }

    section.blue {
      color: #fff;
      background-color: #3333ff;
    }

    section.blue a {
      color: #fff;
    }

    section.blue a:hover {
      color: #ff33cc;
    }

    section.black {
      color: #fff;
      background-color: #000;
    }

    section.cover {
     flex-flow: row;
     align-items: center
    }

    section.cover > * {
      width: 35vw;
    }

    section.cover > * + * {
      margin-left: 10vw;
    }

    section.cover > div {
      display: flex;
      flex-flow: column;
    }

    section.source {
      background-color: #2d2d2d;
    }

    section.source pre {
      text-align: left;
      padding: 0 !important;
      margin: 0 !important;
      margin-top: -1em !important;
      line-height: 1 !important;
      font-size: 75% !important;
    }

    section.source.source--small pre {
      line-height: 0.7 !important;
    }

    section.source pre code {
      font-size: 70% !important;
    }

    section.source.source--small pre code {
      font-size: 60% !important;
    }

    section.quote {
      background-color: #eaeaea;
      justify-content: center;
    }

    section.quote blockquote {
      margin-left: 0;
      text-align: left;
      font-size: 90%;
      line-height: 1.3;
      margin: 4vh 0;
    }

    section.quote cite {
      display: block;
      font-style: normal;
      font-size: 70%;
      color: #666;
      margin-top: 2vh;
    }

    section.quote em {
      padding: 4px;
      background-color: rgb(251, 234, 116);
      font-style: normal;
    }

    code {
      background-color: #ddd;
      font-size: 90%;
    }

    img {
      display: block;
    }

    h1 {
      font-size: 9vh;
      line-height: 10vh;
    }

    h2 {
      font-size: 7vh;
      line-height: 8vh;
    }

    h3 {
      font-size: 5vh;
      line-height: 8vh;
    }

    h1 + h2,
    h2 + h3,
    h3 + h2 {
      margin-top: 8vh;
    }

    h2 + ul,
    h2 + ol {
      margin-top: 6vh;
    }

    ul, ol {
      text-align: left;
    }

    ol > li + li,
    ul > li + li {
      margin-top: 3vh;
    }

    ol ol,
    ul ul {
      margin-top: 3vh;
      font-size: 70%;
      line-height: 100%;
    }

    ol ol > li + li,
    ul ul > li + li {
      margin-top: 3vh;
    }

    #pagination {
      position: fixed;
      top: 2vh;
      right: 2vw;
      color: #444;
      background-color: white;
      font-size: 1vh;
      line-height: 1vh;
      padding: 0.5vh 0.25vw 0.2vh;
    }

    sup {
      color: red;
    }

    section.full-image {
      padding: 0;
      position: relative;
      justify-content: center;
      align-items: center;
    }

    section.full-image img {
      width: 100vw;
      max-height: 100vh;
      max-width: 100vw;
    }

    section.full-image h2 {
      background: rgba(0,0,0,0.5);
      position: absolute;
      z-index: 2;
      border-radius: 20px;
      color: #ffff;
      top: 50%;
      left: 50%;
      width: 60vw;
      transform: translateX(-50%) translateY(-50%);
    }

    section.reflect li {
      font-size: 80%;
    }

  </style>
</head>
<body>
  <div id="pagination"></div>
  <div class="container">
    <section class="cover--first" style="position: relative">
      <h1>Trabe</h1>
      <img src="assets/trabe-logo.png" alt="Trabe logo" style="height: 40vh; margin: 6vh 0"/>
      <h2>As√≠s & David</h2>

      <div style="position:absolute; bottom: 1vh; right: 1vw; padding: 1vh 1vw; background-color: #f0f0ea; font-size: 2vh; line-height: 2vh">
        https://trabe-teaching.github.io/wrong-abstractions
      </div>
    </section>

    <section class="blue">
      <h1>Las abstracciones equivocadas</h1>
    </section>

    <section>
      <h2>Sobre nosotros</h2>
      <ul>
        <li>Desarrollamos front/back con JS (+15 a√±os).</li>
        <li>Hemos trabajado con m√∫ltiples stacks y frameworks: RoR, JEE, .NET, PHP.</li>
        <li>Hemos desarrollado frameworks para otros desarrolladores.</li>
      </ul>
    </section>

    <section class="full-image">
      <h2>Cuando los dinosaurios reinaban sobre el planeta...</h2>
      <img src="./assets/dinosaurs.jpg.webp" />
    </section>

    <section class="full-image">
      <h2>...una gran corporaci√≥n quer√≠a desarrollar un conjunto de frameworks para aumentar la productividad de sus equipos de desarrollo...</h2>
      <img src="./assets/inditex.jpg" />
    </section>

    <section>
      <h2>Qu√© "quer√≠an"</h2>
      <ul>
        <li>Soporte para crear microservicios Java/Node y SPAs con JS/React.</li>
        <li>Reducir el boilerplate (lo que ya ten√≠an)</li>
        <li>Rebajar la barrera de entrada a sus m√∫ltiples equipos con perfiles "variados"</li>
        <li>Componentes adaptados a sus casos de uso, y a la corporaci√≥n (imagen, infraestructura).</li>
        <li>Soporte de utilidades transversales: observabilidad, autenticaci√≥n, i18n, etc.</li>
        <li>Desplegable en un PaaS (con todo bien integradito).</li>
      </ul>
    </section>

    <section>
      <h2>Qu√© les dimos</h2>
      <ul>
        <li>Una serie de abstracciones r√≠gidas que simplifican el desarrollo.</li>
        <li>Todas las apps/servicios son similares, solo cambia la l√≥gica de negocio.</li>
        <li>Desplegable en su PaaS (todo bien integrado).</li>
      </ul>
    </section>

    <section class="disclaimer">
      <p>
        Vamos a ver mayoritariamente ejemplos del framework de microservicios por simplicidad, ya que no depende de React y basta
        con tener nociones de JavaScript.
      </p>
      <p>
        Hemos simplificado el c√≥digo para no liar a nadie.
      </p>
    </section>

    <section class="source">
      <pre><code class="language-js">
        service()
          .use(auth())
          .mount(router()
            .get("/some-data",
              fetchJson("http://some-url"),
              status.ok(),
              sendBody()
            )
          )
          .listen()
      </code></pre>
    </section>

    <section class="source">
      <pre><code class="language-yaml">
      service:
        port: 3000
        auth:
          enabled: true
        log:
          level: DEBUG
          transports:
            - console
            - kafka
        tracing:
          enabled: true
          threshold: 0.5
      </code></pre>
    </section>

    <section>
      <h2>Tragedia en 5 pasos</h2>
      <ol>
        <li>Se definen unos requisitos cerrados.</li>
        <li>Se entrega un producto que los cumple.</li>
        <li>El producto "no vale". Las abstracciones son muy r√≠gidas. Los requisitos estan mal. Todo debe ser m√°s flexible.</li>
        <li>Se sugiere una nueva major con abstracciones m√°s simples.</li>
        <li>"Hay que poner en valor lo que hay". Se extienden las abstracciones para hacerlas "configurables"</li>
      </ol>
    </section>

    <section class="full-image">
      <h2>FUCK!</h2>
      <img src="./assets/facepalm.png.webp" />
    </section>

    <section class="source">
      <pre><code class="language-js">
        function fetchJson(url) {
          return async middleware(ctx, next) {
            try {
              const res = await fetchClient(url);
              const json = await res.json();
              ctx.state.data = json;
              await next();
            } catch (e) {
              ctx.status = 500;
            }
          }
        }
      </code></pre>
    </section>

    <section class="source">
      <pre><code class="language-js">
        async function defaultOnError(e, ctx, next) {
          ctx.status = 500;
        }

        function fetchJson(url, { onError = defaultOnError } = {}) {
          return async middleware(ctx, next) {
            try {
              const res = await fetchClient(url);
              const json = await res.json();
              ctx.state.data = json;
              await next();
            } catch (e) {
              await onError(e, ctx, next);
            }
          }
        }
      </code></pre>
    </section>

    <section class="source">
      <pre><code class="language-js">
        service()
          .use(auth())
          .mount(router()
            .get("/some-data",
              fetchJson("http://some-url", {
                onError: async (e,ctx, next) => {
                  ctx.state.data = {};
                  await next();
                }
              }),
              status.ok(),
              sendBody()
            )
          )
          .listen()
      </code></pre>
    </section>

    <section>
      <h2>La abstracci√≥n equivocada</h2>
      <ul>
        <li>Nuestras APIs cubren el caso de uso general, con una configuraci√≥n m√≠nima.</li>
        <li>Alg√∫n equipo quiere hacer algo distinto.</li>
        <li>Se extiende la API con (red) flags, etc.</li>
      </ul>
    </section>

    <section>
      <h2>¬øHacer algo distinto?</h2>
      <ul>
        <li>Implementar casos de uso super particulares.</li>
        <li>Usar infraestructura diferente.</li>
        <li>Desplegar en otro entorno.</li>
        <li>Usar partes sueltas del framework</li>
      </ul>
    </section>

    <section class="center">
      <h2>
        No tendr√≠a por qu√© ser as√≠.
      </h2>
    </section>

    <section>
      <h2>La abstracci√≥n correcta</h2>
      <ul>
        <li>Nuestras APIs cubren el caso de uso base, con inyecci√≥n de dependencias.</li>
        <li>Los equipos pueden hacer lo que les da la gana. Usarlo o no usarlo.</li>
        <li>El caso general se cubre con: wrappers, boilerplate extraido a librer√≠as, patrones de uso y documentaci√≥n.</li>
      </ul>
    </section>


    <section class="source">
      <pre><code class="language-js">
        Ejemplo de una API moderna.
      </code></pre>
    </section>

    <section>
      <h2>Tragedia en <span style="text-decoration: line-through">5</span> 7 pasos</h2>
      <ol>
        <li>Se definen unos requisitos cerrados.</li>
        <li>Se entrega un producto que los cumple.</li>
        <li>El producto "no vale". Las abstracciones son muy r√≠gidas. Los requisitos estan mal. Todo debe ser m√°s flexible.</li>
        <li>Se sugiere una nueva major con abstracciones m√°s simples.</li>
        <li>"Hay que poner en valor lo que hay". Se extienden las abstracciones para hacerlas "configurables"</li>
        <li>Vamos a pivotar. La IA escribe el boilerplate. Necesitamos un framework de piezas sencillas</li>
        <li>Se pide una major con abstracciones m√°s simples, pero "hay que poner en valor lo que hay".</li>
      </ol>
    </section>

    <section class="full-image">
      <h2>FUCK! FUCK! FUCK!</h2>
      <img src="./assets/facepalm.png.webp" />
    </section>


    <section class="reflect">
      <h2>Para reflexionar</h2>
      <ul>
        <li>
          Climbing towards NLU: On Meaning, Form, and Understanding in the Age of Data
          <br/>
          <a href="https://aclanthology.org/2020.acl-main.463.pdf"><small>https://aclanthology.org/2020.acl-main.463.pdf</small></a>
        </li>
        <li>
          ChatGPT is bullshit
          <br/>
          <a href="https://link.springer.com/article/10.1007/s10676-024-09775-5"><small>https://link.springer.com/article/10.1007/s10676-024-09775-5</small></a>
        <li>
          On the Dangers of Stochastic Parrots: Can Language Models Be Too Big? ü¶ú
          <br/>
          <a href="https://dl.acm.org/doi/10.1145/3442188.3445922"><small>https://dl.acm.org/doi/10.1145/3442188.3445922</small></a>
        </li>
        <li>
          The TESCREAL bundle: Eugenics and the promise of utopia through artificial general intelligence
          <br/>
          <a href="https://firstmonday.org/ojs/index.php/fm/article/view/13636"><small>https://firstmonday.org/ojs/index.php/fm/article/view/13636</small></a>
        </li>
        <li>
          AI: The New Aesthetics of Fascism
          <br/>
          <a href="https://newsocialist.org.uk/transmissions/ai-the-new-aesthetics-of-fascism/"><small>https://newsocialist.org.uk/transmissions/ai-the-new-aesthetics-of-fascism/</small></a>
        </li>
      </ul>
    </section>

    <section class="black">
      <h2>¬øPreguntas?</h2>
    </section>
  </div>

  <script>
    const observeSectionIntersection = section => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            location.assign(`#${section.id}`);
          }
        })
      }, {
        root: document.querySelector(".container"),
        threshold: 0.5,
      });

      observer.observe(section);
    }

    document.querySelectorAll("section").forEach((section, index) => {
      section.id = `slide-${index}`;

      observeSectionIntersection(section);
    });

    const updatePagination = () => {
      const totalPages = document.querySelectorAll("section").length;
      const currentPage = Number(location.hash.replace("#slide-","")) + 1;

      document.getElementById("pagination").innerHTML = `${currentPage}/${totalPages}`;
    }

    updatePagination();
    window.addEventListener("hashchange", updatePagination);
  </script>
  <script src="https://unpkg.com/prismjs@1.29.0/components/prism-core.min.js"></script>
	<script src="https://unpkg.com/prismjs@1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
